<div *ngIf="flowError$ | async" class="error">
  An error was encountered with query:
  <div>{{ (args$ | async).query }}</div>
  <div *ngIf="resultsStderr$ | async as resultsStderr">
    stderr is: {{resultsStderr}}
  </div>
</div>

<div *ngIf="flowRunning$ | async" class="in-progress">
  Query in progress:
  <div>{{ (args$ | async).query }}</div>
</div>

<ng-container *ngIf="flowCompleted$ | async">
  <osquery-results-table
    *ngIf="displayTable$ | async as displayTable"
    [table]="displayTable">
  </osquery-results-table>

  <div
    *ngIf="additionalRowsAvailable$ | async as additionalCount"
    class="show-additional">
    <button
      (click)="loadCompleteResults()"
      mat-stroked-button
      color="primary">
      View all rows ({{additionalCount}} more)
    </button>
  </div>
</ng-container>
